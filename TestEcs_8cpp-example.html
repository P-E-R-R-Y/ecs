<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ecs: TestEcs.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ecs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">TestEcs.cpp</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;gtest/gtest.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="Ecs_8hpp.html">Ecs.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespaceecs.html">ecs</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a id="_a0" name="_a0"></a><a class="code hl_struct" href="structVelocity.html">Velocity</a> {</div>
<div class="line">    <span class="keywordtype">int</span> <a id="a1" name="a1"></a><a class="code hl_variable" href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">x</a>, <a id="a2" name="a2"></a><a class="code hl_variable" href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">y</a>;</div>
<div class="line">    <span class="keywordtype">bool</span> <a id="a3" name="a3"></a><a class="code hl_function" href="structVelocity.html#af1189c32dc1cdd95516e80ab76c0236f">operator==</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structVelocity.html">Velocity</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">x</a> == other.<a class="code hl_variable" href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">x</a> &amp;&amp; <a class="code hl_variable" href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">y</a> == other.<a class="code hl_variable" href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">y</a>; }</div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a id="a4" name="a4"></a><a class="code hl_friend" href="structVelocity.html#a75cb8d293fb2729fe788c8a9dcf9d995">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code hl_struct" href="structVelocity.html">Velocity</a>&amp; v) {</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;Velocity(&quot;</span> &lt;&lt; v.<a class="code hl_variable" href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">x</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; v.<a class="code hl_variable" href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">y</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a id="_a5" name="_a5"></a><a class="code hl_struct" href="structPosition.html">Position</a> {</div>
<div class="line">    <span class="keywordtype">int</span> <a id="a6" name="a6"></a><a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a>, <a id="a7" name="a7"></a><a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a>;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">bool</span> <a id="a8" name="a8"></a><a class="code hl_function" href="structPosition.html#acf13e7e45c7c07a67c2adf2f7e1dcc5f">operator==</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structPosition.html">Position</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a> == other.<a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a> &amp;&amp; <a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a> == other.<a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a>; }</div>
<div class="line">    <span class="keywordtype">void</span> <a id="a9" name="a9"></a><a class="code hl_function" href="structPosition.html#a5d7960a2213d1170bcd48c3512213f24">operator+=</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structVelocity.html">Velocity</a>&amp; vel) { <a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a> += vel.<a class="code hl_variable" href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">x</a>; <a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a> += vel.<a class="code hl_variable" href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">y</a>; }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a id="a10" name="a10"></a><a class="code hl_friend" href="structPosition.html#a7f0a7445bb4ca573e25dec40f01e291f">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code hl_struct" href="structPosition.html">Position</a>&amp; p) {</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;Position(&quot;</span> &lt;&lt; p.<a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; p.<a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a id="_a11" name="_a11"></a><a class="code hl_struct" href="structHealth.html">Health</a> {</div>
<div class="line">    <span class="keywordtype">int</span> <a id="a12" name="a12"></a><a class="code hl_variable" href="structHealth.html#a5d19494a27b51c2255a8164333ad1b6f">value</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">friend</span> std::ostream&amp; <a id="a13" name="a13"></a><a class="code hl_friend" href="structHealth.html#a49123c53ac004e75fdc99b616c4ad2c7">operator&lt;&lt;</a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code hl_struct" href="structHealth.html">Health</a>&amp; h) {</div>
<div class="line">        <span class="keywordflow">return</span> os &lt;&lt; <span class="stringliteral">&quot;Health(&quot;</span> &lt;&lt; h.<a class="code hl_variable" href="structHealth.html#a5d19494a27b51c2255a8164333ad1b6f">value</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- Instance ---</span></div>
<div class="line"><span class="keyword">class </span><a id="_a14" name="_a14"></a><a class="code hl_class" href="classSingleton.html">Singleton</a> {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <span class="keyword">static</span> <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp; <a id="a15" name="a15"></a><a class="code hl_function" href="classSingleton.html#a17f025d6b072b6cc5ba4f1a28de95786">getInstance</a>() {</div>
<div class="line">            <span class="keyword">static</span> <a class="code hl_class" href="classSingleton.html">Singleton</a> singleton;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> singleton;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="classSingleton.html">Singleton</a>(<span class="keyword">const</span> <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp; <a id="a16" name="a16"></a><a class="code hl_function" href="classSingleton.html#a7d83c3f2c3d8dd5a623488bd32131985">operator=</a>(<span class="keyword">const</span> <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a id="a17" name="a17"></a><a class="code hl_function" href="classSingleton.html#ac942b1287fda6e65ababda8edb28db78">display</a>(<a class="code hl_struct" href="structPosition.html">Position</a>&amp; v) {</div>
<div class="line">            std::cerr &lt;&lt; <span class="stringliteral">&quot;pos .x: &quot;</span> &lt;&lt; v.<a class="code hl_variable" href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">x</a> &lt;&lt; <span class="stringliteral">&quot; .y: &quot;</span> &lt;&lt; v.<a class="code hl_variable" href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">y</a> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        <a class="code hl_class" href="classSingleton.html">Singleton</a>() {}</div>
<div class="line">        <span class="keywordtype">int</span> n = 2;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- Systems ---</span></div>
<div class="line"><span class="keyword">class </span><a id="_a18" name="_a18"></a><a class="code hl_class" href="classMoveSystem.html">MoveSystem</a>: <span class="keyword">public</span> <a id="_a19" name="_a19"></a><a class="code hl_class" href="classecs_1_1ISystem.html">ISystem</a> {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a id="a20" name="a20"></a><a class="code hl_function" href="classMoveSystem.html#a21687433dea8cfe2cfee6e996207c48a">MoveSystem</a>() {}</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a id="a21" name="a21"></a><a class="code hl_function" href="classMoveSystem.html#a67975f5799feb6477d61728649681869">update</a>(<a id="_a22" name="_a22"></a><a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> &amp;r)<span class="keyword"> override </span>{</div>
<div class="line">            <span class="keyword">auto</span>&amp; positions = r.<a id="a23" name="a23"></a><a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;();</div>
<div class="line">            <span class="keyword">auto</span>&amp; velocities = r.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structVelocity.html">Velocity</a>&gt;();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; positions.size(); ++i) {</div>
<div class="line">                <span class="keywordflow">if</span> (positions[i] &amp;&amp; velocities[i])</div>
<div class="line">                    positions[i].value() += velocities[i].value();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a id="_a24" name="_a24"></a><a class="code hl_class" href="classDisplaySystem.html">DisplaySystem</a>: <span class="keyword">public</span> <a class="code hl_class" href="classecs_1_1ISystem.html">ISystem</a> {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code hl_class" href="classDisplaySystem.html">DisplaySystem</a>(<a class="code hl_class" href="classSingleton.html">Singleton</a>&amp; s):_s(s) {}</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a id="a25" name="a25"></a><a class="code hl_function" href="classDisplaySystem.html#ac676149c1cdbec758ff5acdace5d6a64">update</a>(<a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> &amp;r)<span class="keyword"> override </span>{</div>
<div class="line">            <span class="keyword">auto</span>&amp; positions = r.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;();</div>
<div class="line">            <span class="keyword">auto</span>&amp; velocities = r.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structVelocity.html">Velocity</a>&gt;();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; positions.size(); ++i) {</div>
<div class="line">                <span class="keywordflow">if</span> (positions[i]) {</div>
<div class="line">                    _s.<a class="code hl_function" href="classSingleton.html#ac942b1287fda6e65ababda8edb28db78">display</a>(positions[i].value());</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp; _s;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a id="_a26" name="_a26"></a><a class="code hl_class" href="classHealthSystem.html">HealthSystem</a>: <span class="keyword">public</span> <a class="code hl_class" href="classecs_1_1ISystem.html">ISystem</a> {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line">        <a class="code hl_class" href="classHealthSystem.html">HealthSystem</a>(<span class="keywordtype">int</span> time) {}</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> <a id="a27" name="a27"></a><a class="code hl_function" href="classHealthSystem.html#a2c66f6a231ec68647abd0ab910bc4a06">update</a>(<a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> &amp;r)<span class="keyword"> override </span>{</div>
<div class="line">            <span class="keyword">auto</span>&amp; healths = r.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structHealth.html">Health</a>&gt;();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; healths.size(); ++i) {</div>
<div class="line">                <span class="keywordflow">if</span> (healths[i]) {</div>
<div class="line">                    std::cout &lt;&lt; <span class="stringliteral">&quot;entity(&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;): &quot;</span> &lt;&lt; healths[i].<a class="code hl_variable" href="structHealth.html#a5d19494a27b51c2255a8164333ad1b6f">value</a>() &lt;&lt; std::endl;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">}; </div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- Component registration ---</span></div>
<div class="line"><a id="a28" name="a28"></a><a class="code hl_function" href="TestEcs_8cpp.html#a4cf3ac97f22451db4dcddc93e0e6e96d">TEST</a>(RegistryTest, RegisterAndRetrieveComponents) {</div>
<div class="line">    <a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> registry;</div>
<div class="line"> </div>
<div class="line">    registry.<a id="a29" name="a29"></a><a class="code hl_function" href="classecs_1_1Registry.html#a85267c79d43567eb563452e47802b306">registerComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>, <a class="code hl_struct" href="structVelocity.html">Velocity</a>, <a class="code hl_struct" href="structHealth.html">Health</a>&gt;();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span>&amp; posArray = registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;();</div>
<div class="line">    EXPECT_EQ(posArray.size(), 0u);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Ensure that the same instance is returned (not copies)</span></div>
<div class="line">    EXPECT_EQ(&amp;registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;(), &amp;posArray);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- Register by tuple extraction ---</span></div>
<div class="line"><a class="code hl_function" href="TestEcs_8cpp.html#a4cf3ac97f22451db4dcddc93e0e6e96d">TEST</a>(RegistryExtractionTest, RegisterComponentsByExtraction) {</div>
<div class="line">    <a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> registry;</div>
<div class="line">    <span class="keyword">using </span>MyComponents = std::tuple&lt;Position, Velocity, Health&gt;;</div>
<div class="line">    registry.<a id="a30" name="a30"></a><a class="code hl_function" href="classecs_1_1Registry.html#acf03f85797c2d65adfbe11638bd8589a">registerComponentsByExtraction</a>&lt;MyComponents&gt;();</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;());</div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structVelocity.html">Velocity</a>&gt;());</div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structHealth.html">Health</a>&gt;());</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="TestEcs_8cpp.html#a4cf3ac97f22451db4dcddc93e0e6e96d">TEST</a>(RegistryExtractionTest, Intergration) {</div>
<div class="line">    <a class="code hl_class" href="classecs_1_1Registry.html">Registry</a> registry;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classSingleton.html">Singleton</a>&amp;s = <a class="code hl_function" href="classSingleton.html#a17f025d6b072b6cc5ba4f1a28de95786">Singleton::getInstance</a>();</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using </span>MyComponents = std::tuple&lt;Position, Velocity, Health&gt;;</div>
<div class="line">    registry.<a class="code hl_function" href="classecs_1_1Registry.html#acf03f85797c2d65adfbe11638bd8589a">registerComponentsByExtraction</a>&lt;MyComponents&gt;();</div>
<div class="line"> </div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;());</div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structVelocity.html">Velocity</a>&gt;());</div>
<div class="line">    EXPECT_NO_THROW(registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structHealth.html">Health</a>&gt;());</div>
<div class="line"> </div>
<div class="line">    <a id="_a31" name="_a31"></a><a class="code hl_class" href="classecs_1_1Entity.html">Entity</a> player = registry.<a id="a32" name="a32"></a><a class="code hl_function" href="classecs_1_1Registry.html#a3542ce7e9d41bfae77f5ad1a514be917">createEntity</a>();</div>
<div class="line">    <a class="code hl_class" href="classecs_1_1Entity.html">Entity</a> enemy = registry.<a class="code hl_function" href="classecs_1_1Registry.html#a3542ce7e9d41bfae77f5ad1a514be917">createEntity</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="structHealth.html">Health</a> h{}; </div>
<div class="line"> </div>
<div class="line">    player.<a id="a33" name="a33"></a><a class="code hl_function" href="classecs_1_1Entity.html#a781ec3d2ef6f071dde73927418b3c06f">addComponent</a>(<a class="code hl_struct" href="structPosition.html">Position</a>{0, 0}, <a class="code hl_struct" href="structVelocity.html">Velocity</a>{1, 0}, h);</div>
<div class="line">    enemy.<a class="code hl_function" href="classecs_1_1Entity.html#a781ec3d2ef6f071dde73927418b3c06f">addComponent</a>(<a class="code hl_struct" href="structHealth.html">Health</a>{});</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span>&amp;positons = registry.<a class="code hl_function" href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">getComponents</a>&lt;<a class="code hl_struct" href="structPosition.html">Position</a>&gt;();</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classDisplaySystem.html">DisplaySystem</a> ds(s);</div>
<div class="line"> </div>
<div class="line">    registry.<a id="a34" name="a34"></a><a class="code hl_function" href="classecs_1_1Registry.html#ac5a9cf2c9d2b60794de51e97bc662617">addSystem</a>(<a class="code hl_class" href="classMoveSystem.html">MoveSystem</a>(), ds, <a class="code hl_class" href="classHealthSystem.html">HealthSystem</a>(0));</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(positons[0].value().x, 0);</div>
<div class="line">    registry.<a id="a35" name="a35"></a><a class="code hl_function" href="classecs_1_1Registry.html#a46e567d2bff3528e48ee9ab8d5d44ca6">callSystem</a>&lt;<a class="code hl_class" href="classDisplaySystem.html">DisplaySystem</a>, <a class="code hl_class" href="classMoveSystem.html">MoveSystem</a>, <a class="code hl_class" href="classDisplaySystem.html">DisplaySystem</a>, <a class="code hl_class" href="classHealthSystem.html">HealthSystem</a>&gt;();</div>
<div class="line"> </div>
<div class="line">    EXPECT_EQ(positons[0].value().x, 1);</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="ttc" id="aEcs_8hpp_html"><div class="ttname"><a href="Ecs_8hpp.html">Ecs.hpp</a></div></div>
<div class="ttc" id="aTestEcs_8cpp_html_a4cf3ac97f22451db4dcddc93e0e6e96d"><div class="ttname"><a href="TestEcs_8cpp.html#a4cf3ac97f22451db4dcddc93e0e6e96d">TEST</a></div><div class="ttdeci">TEST(RegistryTest, RegisterAndRetrieveComponents)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:130</div></div>
<div class="ttc" id="aclassDisplaySystem_html"><div class="ttname"><a href="classDisplaySystem.html">DisplaySystem</a></div><div class="ttdef"><b>Definition</b> TestEcs.cpp:96</div></div>
<div class="ttc" id="aclassDisplaySystem_html_ac676149c1cdbec758ff5acdace5d6a64"><div class="ttname"><a href="classDisplaySystem.html#ac676149c1cdbec758ff5acdace5d6a64">DisplaySystem::update</a></div><div class="ttdeci">void update(Registry &amp;r) override</div><div class="ttdoc">Pure virtual function executed by all concrete systems.</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:100</div></div>
<div class="ttc" id="aclassHealthSystem_html"><div class="ttname"><a href="classHealthSystem.html">HealthSystem</a></div><div class="ttdef"><b>Definition</b> TestEcs.cpp:114</div></div>
<div class="ttc" id="aclassHealthSystem_html_a2c66f6a231ec68647abd0ab910bc4a06"><div class="ttname"><a href="classHealthSystem.html#a2c66f6a231ec68647abd0ab910bc4a06">HealthSystem::update</a></div><div class="ttdeci">void update(Registry &amp;r) override</div><div class="ttdoc">Pure virtual function executed by all concrete systems.</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:118</div></div>
<div class="ttc" id="aclassMoveSystem_html"><div class="ttname"><a href="classMoveSystem.html">MoveSystem</a></div><div class="ttdef"><b>Definition</b> TestEcs.cpp:81</div></div>
<div class="ttc" id="aclassMoveSystem_html_a21687433dea8cfe2cfee6e996207c48a"><div class="ttname"><a href="classMoveSystem.html#a21687433dea8cfe2cfee6e996207c48a">MoveSystem::MoveSystem</a></div><div class="ttdeci">MoveSystem()</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:83</div></div>
<div class="ttc" id="aclassMoveSystem_html_a67975f5799feb6477d61728649681869"><div class="ttname"><a href="classMoveSystem.html#a67975f5799feb6477d61728649681869">MoveSystem::update</a></div><div class="ttdeci">void update(Registry &amp;r) override</div><div class="ttdoc">Pure virtual function executed by all concrete systems.</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:85</div></div>
<div class="ttc" id="aclassSingleton_html"><div class="ttname"><a href="classSingleton.html">Singleton</a></div><div class="ttdef"><b>Definition</b> TestEcs.cpp:59</div></div>
<div class="ttc" id="aclassSingleton_html_a17f025d6b072b6cc5ba4f1a28de95786"><div class="ttname"><a href="classSingleton.html#a17f025d6b072b6cc5ba4f1a28de95786">Singleton::getInstance</a></div><div class="ttdeci">static Singleton &amp; getInstance()</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:61</div></div>
<div class="ttc" id="aclassSingleton_html_a7d83c3f2c3d8dd5a623488bd32131985"><div class="ttname"><a href="classSingleton.html#a7d83c3f2c3d8dd5a623488bd32131985">Singleton::operator=</a></div><div class="ttdeci">Singleton &amp; operator=(const Singleton &amp;)=delete</div></div>
<div class="ttc" id="aclassSingleton_html_ac942b1287fda6e65ababda8edb28db78"><div class="ttname"><a href="classSingleton.html#ac942b1287fda6e65ababda8edb28db78">Singleton::display</a></div><div class="ttdeci">void display(Position &amp;v)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:71</div></div>
<div class="ttc" id="aclassecs_1_1Entity_html"><div class="ttname"><a href="classecs_1_1Entity.html">ecs::Entity</a></div><div class="ttdoc">Entity class from ECS.</div><div class="ttdef"><b>Definition</b> Entity.hpp:26</div></div>
<div class="ttc" id="aclassecs_1_1Entity_html_a781ec3d2ef6f071dde73927418b3c06f"><div class="ttname"><a href="classecs_1_1Entity.html#a781ec3d2ef6f071dde73927418b3c06f">ecs::Entity::addComponent</a></div><div class="ttdeci">void addComponent(Component &amp;&amp;... c)</div><div class="ttdoc">add a component to the entity using the registryRef method addComponent</div><div class="ttdef"><b>Definition</b> Entity_impl.hpp:24</div></div>
<div class="ttc" id="aclassecs_1_1ISystem_html"><div class="ttname"><a href="classecs_1_1ISystem.html">ecs::ISystem</a></div><div class="ttdef"><b>Definition</b> System.hpp:26</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html"><div class="ttname"><a href="classecs_1_1Registry.html">ecs::Registry</a></div><div class="ttdoc">define the Registry class</div><div class="ttdef"><b>Definition</b> Registry.hpp:44</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_a3542ce7e9d41bfae77f5ad1a514be917"><div class="ttname"><a href="classecs_1_1Registry.html#a3542ce7e9d41bfae77f5ad1a514be917">ecs::Registry::createEntity</a></div><div class="ttdeci">Entity createEntity()</div><div class="ttdoc">handling entities (define in Registry.cpp)</div><div class="ttdef"><b>Definition</b> Registry.cpp:14</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_a46e567d2bff3528e48ee9ab8d5d44ca6"><div class="ttname"><a href="classecs_1_1Registry.html#a46e567d2bff3528e48ee9ab8d5d44ca6">ecs::Registry::callSystem</a></div><div class="ttdeci">void callSystem()</div><div class="ttdoc">call a system</div><div class="ttdef"><b>Definition</b> Registry_impl.hpp:93</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_a85267c79d43567eb563452e47802b306"><div class="ttname"><a href="classecs_1_1Registry.html#a85267c79d43567eb563452e47802b306">ecs::Registry::registerComponents</a></div><div class="ttdeci">void registerComponents()</div><div class="ttdoc">register a list of components</div><div class="ttdef"><b>Definition</b> Registry_impl.hpp:28</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_aa00d974334f625d6ef9325a3a3d826af"><div class="ttname"><a href="classecs_1_1Registry.html#aa00d974334f625d6ef9325a3a3d826af">ecs::Registry::getComponents</a></div><div class="ttdeci">SparseArray&lt; Component &gt; &amp; getComponents()</div><div class="ttdoc">get components of a given type</div><div class="ttdef"><b>Definition</b> Registry_impl.hpp:40</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_ac5a9cf2c9d2b60794de51e97bc662617"><div class="ttname"><a href="classecs_1_1Registry.html#ac5a9cf2c9d2b60794de51e97bc662617">ecs::Registry::addSystem</a></div><div class="ttdeci">void addSystem(System &amp;s)</div><div class="ttdoc">handling systems</div><div class="ttdef"><b>Definition</b> Registry_impl.hpp:68</div></div>
<div class="ttc" id="aclassecs_1_1Registry_html_acf03f85797c2d65adfbe11638bd8589a"><div class="ttname"><a href="classecs_1_1Registry.html#acf03f85797c2d65adfbe11638bd8589a">ecs::Registry::registerComponentsByExtraction</a></div><div class="ttdeci">void registerComponentsByExtraction()</div><div class="ttdoc">register every components by extraction from a tuple</div><div class="ttdef"><b>Definition</b> Registry_impl.hpp:33</div></div>
<div class="ttc" id="anamespaceecs_html"><div class="ttname"><a href="namespaceecs.html">ecs</a></div><div class="ttdoc">Entity Component System.</div></div>
<div class="ttc" id="astructHealth_html"><div class="ttname"><a href="structHealth.html">Health</a></div><div class="ttdoc">Health Value.</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:50</div></div>
<div class="ttc" id="astructHealth_html_a49123c53ac004e75fdc99b616c4ad2c7"><div class="ttname"><a href="structHealth.html#a49123c53ac004e75fdc99b616c4ad2c7">Health::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const Health &amp;h)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:53</div></div>
<div class="ttc" id="astructHealth_html_a5d19494a27b51c2255a8164333ad1b6f"><div class="ttname"><a href="structHealth.html#a5d19494a27b51c2255a8164333ad1b6f">Health::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:51</div></div>
<div class="ttc" id="astructPosition_html"><div class="ttname"><a href="structPosition.html">Position</a></div><div class="ttdoc">2Dposition</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:35</div></div>
<div class="ttc" id="astructPosition_html_a3c08e9213d4726b21caba3073192c4a3"><div class="ttname"><a href="structPosition.html#a3c08e9213d4726b21caba3073192c4a3">Position::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:36</div></div>
<div class="ttc" id="astructPosition_html_a5d7960a2213d1170bcd48c3512213f24"><div class="ttname"><a href="structPosition.html#a5d7960a2213d1170bcd48c3512213f24">Position::operator+=</a></div><div class="ttdeci">void operator+=(const Velocity &amp;vel)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:39</div></div>
<div class="ttc" id="astructPosition_html_a7f0a7445bb4ca573e25dec40f01e291f"><div class="ttname"><a href="structPosition.html#a7f0a7445bb4ca573e25dec40f01e291f">Position::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const Position &amp;p)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:41</div></div>
<div class="ttc" id="astructPosition_html_acf13e7e45c7c07a67c2adf2f7e1dcc5f"><div class="ttname"><a href="structPosition.html#acf13e7e45c7c07a67c2adf2f7e1dcc5f">Position::operator==</a></div><div class="ttdeci">bool operator==(const Position &amp;other) const</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:38</div></div>
<div class="ttc" id="astructPosition_html_aeda152ffeee17ae5be9c02327b2408d8"><div class="ttname"><a href="structPosition.html#aeda152ffeee17ae5be9c02327b2408d8">Position::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:36</div></div>
<div class="ttc" id="astructVelocity_html"><div class="ttname"><a href="structVelocity.html">Velocity</a></div><div class="ttdoc">2Dvelocity</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:23</div></div>
<div class="ttc" id="astructVelocity_html_a1286d9d936730167034b2937f1c18b89"><div class="ttname"><a href="structVelocity.html#a1286d9d936730167034b2937f1c18b89">Velocity::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:24</div></div>
<div class="ttc" id="astructVelocity_html_a4b1ae93762efafae20f9a5d8a769a9d4"><div class="ttname"><a href="structVelocity.html#a4b1ae93762efafae20f9a5d8a769a9d4">Velocity::y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:24</div></div>
<div class="ttc" id="astructVelocity_html_a75cb8d293fb2729fe788c8a9dcf9d995"><div class="ttname"><a href="structVelocity.html#a75cb8d293fb2729fe788c8a9dcf9d995">Velocity::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;os, const Velocity &amp;v)</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:26</div></div>
<div class="ttc" id="astructVelocity_html_af1189c32dc1cdd95516e80ab76c0236f"><div class="ttname"><a href="structVelocity.html#af1189c32dc1cdd95516e80ab76c0236f">Velocity::operator==</a></div><div class="ttdeci">bool operator==(const Velocity &amp;other) const</div><div class="ttdef"><b>Definition</b> TestEcs.cpp:25</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
